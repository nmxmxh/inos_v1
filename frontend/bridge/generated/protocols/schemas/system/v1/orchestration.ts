// This file has been automatically generated by capnp-es.
import * as $ from "capnp-es";
export const _capnpFileId = BigInt("0xe5f6789012345678");
export class LifecycleCmd extends $.Struct {
  static readonly _capnp = {
    displayName: "LifecycleCmd",
    id: "bd893c54444f7867",
    size: new $.ObjectSize(16, 3),
  };
  get id(): string {
    return $.utils.getText(0, this);
  }
  set id(value: string) {
    $.utils.setText(0, value, this);
  }
  get type(): CommandType {
    return $.utils.getUint16(0, this) as CommandType;
  }
  set type(value: CommandType) {
    $.utils.setUint16(0, value, this);
  }
  get targetCapsuleId(): string {
    return $.utils.getText(1, this);
  }
  set targetCapsuleId(value: string) {
    $.utils.setText(1, value, this);
  }
  _adoptParams(value: $.Orphan<$.Data>): void {
    $.utils.adopt(value, $.utils.getPointer(2, this));
  }
  _disownParams(): $.Orphan<$.Data> {
    return $.utils.disown(this.params);
  }
  get params(): $.Data {
    return $.utils.getData(2, this);
  }
  _hasParams(): boolean {
    return !$.utils.isNull($.utils.getPointer(2, this));
  }
  _initParams(length: number): $.Data {
    return $.utils.initData(2, length, this);
  }
  set params(value: $.Data) {
    $.utils.copyFrom(value, $.utils.getPointer(2, this));
  }
  get timestamp(): bigint {
    return $.utils.getInt64(8, this);
  }
  set timestamp(value: bigint) {
    $.utils.setInt64(8, value, this);
  }
  toString(): string { return "LifecycleCmd_" + super.toString(); }
}
export const CommandType = {
  /**
* Start a new Capsule instance
*
*/
  SPAWN: 0,
  /**
* Forcefully terminate
*
*/
  KILL: 1,
  /**
* Freeze execution (serialize state)
*
*/
  PAUSE: 2,
  /**
* Thaw execution
*
*/
  RESUME: 3,
  /**
* Dump current memory to disk (CRIU logic)
*
*/
  SNAPSHOT: 4,
  /**
* Grow/Shrink SharedArrayBuffer allocation
*
*/
  RESIZE_MEM: 5
} as const;
export type CommandType = (typeof CommandType)[keyof typeof CommandType];
export class HealthHeartbeat extends $.Struct {
  static readonly _capnp = {
    displayName: "HealthHeartbeat",
    id: "ef2fa32e2bd596bb",
    size: new $.ObjectSize(24, 1),
  };
  get capsuleId(): string {
    return $.utils.getText(0, this);
  }
  set capsuleId(value: string) {
    $.utils.setText(0, value, this);
  }
  get status(): Status {
    return $.utils.getUint16(0, this) as Status;
  }
  set status(value: Status) {
    $.utils.setUint16(0, value, this);
  }
  get memoryUsage(): bigint {
    return $.utils.getUint64(8, this);
  }
  set memoryUsage(value: bigint) {
    $.utils.setUint64(8, value, this);
  }
  get cpuTimeNs(): bigint {
    return $.utils.getInt64(16, this);
  }
  set cpuTimeNs(value: bigint) {
    $.utils.setInt64(16, value, this);
  }
  /**
* "I can't keep up with input"
*
*/
  get isCongested(): boolean {
    return $.utils.getBit(16, this);
  }
  set isCongested(value: boolean) {
    $.utils.setBit(16, value, this);
  }
  get needsMoreMem(): boolean {
    return $.utils.getBit(17, this);
  }
  set needsMoreMem(value: boolean) {
    $.utils.setBit(17, value, this);
  }
  toString(): string { return "HealthHeartbeat_" + super.toString(); }
}
export const Status = {
  STARTING: 0,
  HEALTHY: 1,
  /**
* Running but slow
*
*/
  DEGRADED: 2,
  /**
* Unresponsive
*
*/
  ZOMBIE: 3
} as const;
export type Status = (typeof Status)[keyof typeof Status];
export class Orchestration$Client {
  client: $.Client;
  static readonly interfaceId: bigint = BigInt("0xf4d919f95bbada81");
  constructor(client: $.Client) {
    this.client = client;
  }
  static readonly methods: [
  ] = [];
}
$.Registry.register(Orchestration$Client.interfaceId, Orchestration$Client);
export interface Orchestration$Server$Target {
}
export class Orchestration$Server extends $.Server {
  readonly target: Orchestration$Server$Target;
  constructor(target: Orchestration$Server$Target) {
    super(target, []);
    this.target = target;
  }
  client(): Orchestration$Client {
    return new Orchestration$Client(this);
  }
}
/**
* Methods can be added here if needed for RPC
*
*/
export class Orchestration extends $.Interface {
  static readonly Client = Orchestration$Client;
  static readonly Server = Orchestration$Server;
  static readonly _capnp = {
    displayName: "Orchestration",
    id: "f4d919f95bbada81",
    size: new $.ObjectSize(0, 0),
  };
  toString(): string { return "Orchestration_" + super.toString(); }
}
