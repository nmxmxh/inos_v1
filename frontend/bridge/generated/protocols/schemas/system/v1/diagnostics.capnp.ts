// Auto-generated by capnpc-ts. DO NOT EDIT.
// source: protocols/schemas/system/v1/diagnostics.capnp

export class DiagnosticsRequest {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 16;
  static readonly POINTER_COUNT = 1;
  static readonly TOTAL_BYTES = 24;

  get id(): bigint { return this._view.getBigUint64(this._offset + 0, true); }
  set id(v: bigint) { this._view.setBigUint64(this._offset + 0, v, true); }
  get method(): Method { return this._view.getUint16(this._offset + 8, true); }
  set method(v: Method) { this._view.setUint16(this._offset + 8, v, true); }
  // metadata: Metadata (pointer at byte offset 16, slot 0)
}

export const enum Method {
  PING = 0,
  SCAN_MEMORY = 1,
  COLLECT_BRIDGE_METRICS = 2,
}

export class DiagnosticsResponse {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 16;
  static readonly POINTER_COUNT = 1;
  static readonly TOTAL_BYTES = 24;

  static readonly Which = {
    OK: 0,
    METRICS: 1,
    ERROR: 2,
  } as const;

  get which(): number { return this._view.getUint16(this._offset + 10, true); }

  get id(): bigint { return this._view.getBigUint64(this._offset + 0, true); }
  set id(v: bigint) { this._view.setBigUint64(this._offset + 0, v, true); }
  get status(): Status { return this._view.getUint16(this._offset + 8, true); }
  set status(v: Status) { this._view.setUint16(this._offset + 8, v, true); }
  // metrics: Uint8Array (pointer at byte offset 16, slot 0)
  // error: string (pointer at byte offset 16, slot 0)
}

export const enum Status {
  SUCCESS = 0,
  ERROR = 1,
  UNSUPPORTED = 2,
}

