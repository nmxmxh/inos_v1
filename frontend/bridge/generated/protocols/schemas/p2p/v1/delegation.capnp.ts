// Auto-generated by capnpc-ts. DO NOT EDIT.
// source: protocols/schemas/p2p/v1/delegation.capnp

export class DelegateRequest {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 16;
  static readonly POINTER_COUNT = 5;
  static readonly TOTAL_BYTES = 56;

  // id: string (pointer at byte offset 16, slot 0)
  // resource: Resource (pointer at byte offset 24, slot 1)
  // operation: Operation (pointer at byte offset 32, slot 2)
  // params: Uint8Array (pointer at byte offset 40, slot 3)
  get deadline(): bigint { return this._view.getBigUint64(this._offset + 0, true); }
  set deadline(v: bigint) { this._view.setBigUint64(this._offset + 0, v, true); }
  get bid(): number { return this._view.getUint32(this._offset + 8, true); }
  set bid(v: number) { this._view.setUint32(this._offset + 8, v, true); }
  get priority(): number { return this._view.getUint8(this._offset + 12); }
  set priority(v: number) { this._view.setUint8(this._offset + 12, v); }
  // metadata: Metadata (pointer at byte offset 48, slot 4)
}

export class DelegateRequest_Operation {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 8;
  static readonly POINTER_COUNT = 1;
  static readonly TOTAL_BYTES = 16;

  static readonly Which = {
    HASH: 0,
    COMPRESS: 1,
    ENCRYPT: 2,
    CUSTOM: 3,
  } as const;

  get which(): number { return this._view.getUint16(this._offset + 0, true); }

  // hash: HashParams (pointer at byte offset 8, slot 0)
  // compress: CompressParams (pointer at byte offset 8, slot 0)
  // encrypt: EncryptParams (pointer at byte offset 8, slot 0)
  // custom: string (pointer at byte offset 8, slot 0)
}

export class HashParams {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 8;
  static readonly POINTER_COUNT = 0;
  static readonly TOTAL_BYTES = 8;

  get algorithm(): Algorithm { return this._view.getUint16(this._offset + 0, true); }
  set algorithm(v: Algorithm) { this._view.setUint16(this._offset + 0, v, true); }
}

export const enum Algorithm {
  BLAKE3 = 0,
  SHA256 = 1,
}

export class CompressParams {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 8;
  static readonly POINTER_COUNT = 0;
  static readonly TOTAL_BYTES = 8;

  get algorithm(): Algorithm { return this._view.getUint16(this._offset + 0, true); }
  set algorithm(v: Algorithm) { this._view.setUint16(this._offset + 0, v, true); }
  get quality(): number { return this._view.getUint8(this._offset + 2); }
  set quality(v: number) { this._view.setUint8(this._offset + 2, v); }
}

export const enum Algorithm {
  BROTLI = 0,
  SNAPPY = 1,
  LZ4 = 2,
}

export class EncryptParams {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 8;
  static readonly POINTER_COUNT = 1;
  static readonly TOTAL_BYTES = 16;

  get algorithm(): Algorithm { return this._view.getUint16(this._offset + 0, true); }
  set algorithm(v: Algorithm) { this._view.setUint16(this._offset + 0, v, true); }
  // keyId: string (pointer at byte offset 8, slot 0)
}

export const enum Algorithm {
  CHA_CHA20_POLY1305 = 0,
  AES256_GCM = 1,
}

export class DelegateResponse {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 8;
  static readonly POINTER_COUNT = 4;
  static readonly TOTAL_BYTES = 40;

  // requestId: string (pointer at byte offset 8, slot 0)
  get status(): Status { return this._view.getUint16(this._offset + 0, true); }
  set status(v: Status) { this._view.setUint16(this._offset + 0, v, true); }
  // result: Resource (pointer at byte offset 16, slot 1)
  // metrics: ExecutionMetrics (pointer at byte offset 24, slot 2)
  // error: string (pointer at byte offset 32, slot 3)
}

export const enum Status {
  SUCCESS = 0,
  INPUT_MISSING = 1,
  CAPACITY_EXCEEDED = 2,
  FAILED = 3,
  TIMEOUT = 4,
  VERIFICATION_FAILED = 5,
}

export class ExecutionMetrics {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 32;
  static readonly POINTER_COUNT = 0;
  static readonly TOTAL_BYTES = 32;

  get executionTimeNs(): bigint { return this._view.getBigUint64(this._offset + 0, true); }
  set executionTimeNs(v: bigint) { this._view.setBigUint64(this._offset + 0, v, true); }
  get cpuCycles(): bigint { return this._view.getBigUint64(this._offset + 8, true); }
  set cpuCycles(v: bigint) { this._view.setBigUint64(this._offset + 8, v, true); }
  get peakMemoryBytes(): number { return this._view.getUint32(this._offset + 16, true); }
  set peakMemoryBytes(v: number) { this._view.setUint32(this._offset + 16, v, true); }
  get energyMicroJoules(): bigint { return this._view.getBigUint64(this._offset + 24, true); }
  set energyMicroJoules(v: bigint) { this._view.setBigUint64(this._offset + 24, v, true); }
}

export class CapabilityAdvertisement {
  private _view: DataView;
  private _offset: number;

  constructor(buffer: ArrayBuffer, offset: number = 0) {
    this._view = new DataView(buffer);
    this._offset = offset;
  }

  static readonly DATA_BYTES = 8;
  static readonly POINTER_COUNT = 3;
  static readonly TOTAL_BYTES = 32;

  // id: string (pointer at byte offset 8, slot 0)
  get score(): number { return this._view.getFloat32(this._offset + 0, true); }
  set score(v: number) { this._view.setFloat32(this._offset + 0, v, true); }
  get cost(): number { return this._view.getUint32(this._offset + 4, true); }
  set cost(v: number) { this._view.setUint32(this._offset + 4, v, true); }
  // constraints: Uint8Array (pointer at byte offset 16, slot 1)
  // hardware: List (pointer at byte offset 24, slot 2)
}

export const enum HardwareFeature {
  AVX512 = 0,
  GPU = 1,
  FPGA = 2,
  TPM = 3,
  SGX = 4,
  NEON = 5,
}

