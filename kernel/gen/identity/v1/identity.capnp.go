// Code generated by capnpc-go. DO NOT EDIT.

package identity

import (
	strconv "strconv"
	capnp "zombiezen.com/go/capnproto2"
	text "zombiezen.com/go/capnproto2/encoding/text"
	schemas "zombiezen.com/go/capnproto2/schemas"
)

type IdentityRegistry struct{ capnp.Struct }

// IdentityRegistry_TypeID is the unique identifier for the type IdentityRegistry.
const IdentityRegistry_TypeID = 0xd25d62ed20020d1f

func NewIdentityRegistry(s *capnp.Segment) (IdentityRegistry, error) {
	st, err := capnp.NewStruct(s, capnp.ObjectSize{DataSize: 0, PointerCount: 1})
	return IdentityRegistry{st}, err
}

func NewRootIdentityRegistry(s *capnp.Segment) (IdentityRegistry, error) {
	st, err := capnp.NewRootStruct(s, capnp.ObjectSize{DataSize: 0, PointerCount: 1})
	return IdentityRegistry{st}, err
}

func ReadRootIdentityRegistry(msg *capnp.Message) (IdentityRegistry, error) {
	root, err := msg.RootPtr()
	return IdentityRegistry{root.Struct()}, err
}

func (s IdentityRegistry) String() string {
	str, _ := text.Marshal(0xd25d62ed20020d1f, s.Struct)
	return str
}

func (s IdentityRegistry) Dids() (IdentityEntry_List, error) {
	p, err := s.Struct.Ptr(0)
	return IdentityEntry_List{List: p.List()}, err
}

func (s IdentityRegistry) HasDids() bool {
	p, err := s.Struct.Ptr(0)
	return p.IsValid() || err != nil
}

func (s IdentityRegistry) SetDids(v IdentityEntry_List) error {
	return s.Struct.SetPtr(0, v.List.ToPtr())
}

// NewDids sets the dids field to a newly
// allocated IdentityEntry_List, preferring placement in s's segment.
func (s IdentityRegistry) NewDids(n int32) (IdentityEntry_List, error) {
	l, err := NewIdentityEntry_List(s.Struct.Segment(), n)
	if err != nil {
		return IdentityEntry_List{}, err
	}
	err = s.Struct.SetPtr(0, l.List.ToPtr())
	return l, err
}

// IdentityRegistry_List is a list of IdentityRegistry.
type IdentityRegistry_List struct{ capnp.List }

// NewIdentityRegistry creates a new list of IdentityRegistry.
func NewIdentityRegistry_List(s *capnp.Segment, sz int32) (IdentityRegistry_List, error) {
	l, err := capnp.NewCompositeList(s, capnp.ObjectSize{DataSize: 0, PointerCount: 1}, sz)
	return IdentityRegistry_List{l}, err
}

func (s IdentityRegistry_List) At(i int) IdentityRegistry { return IdentityRegistry{s.List.Struct(i)} }

func (s IdentityRegistry_List) Set(i int, v IdentityRegistry) error {
	return s.List.SetStruct(i, v.Struct)
}

func (s IdentityRegistry_List) String() string {
	str, _ := text.MarshalList(0xd25d62ed20020d1f, s.List)
	return str
}

// IdentityRegistry_Promise is a wrapper for a IdentityRegistry promised by a client call.
type IdentityRegistry_Promise struct{ *capnp.Pipeline }

func (p IdentityRegistry_Promise) Struct() (IdentityRegistry, error) {
	s, err := p.Pipeline.Struct()
	return IdentityRegistry{s}, err
}

type IdentityEntry struct{ capnp.Struct }

// IdentityEntry_TypeID is the unique identifier for the type IdentityEntry.
const IdentityEntry_TypeID = 0xea796c6e39c699af

func NewIdentityEntry(s *capnp.Segment) (IdentityEntry, error) {
	st, err := capnp.NewStruct(s, capnp.ObjectSize{DataSize: 8, PointerCount: 4})
	return IdentityEntry{st}, err
}

func NewRootIdentityEntry(s *capnp.Segment) (IdentityEntry, error) {
	st, err := capnp.NewRootStruct(s, capnp.ObjectSize{DataSize: 8, PointerCount: 4})
	return IdentityEntry{st}, err
}

func ReadRootIdentityEntry(msg *capnp.Message) (IdentityEntry, error) {
	root, err := msg.RootPtr()
	return IdentityEntry{root.Struct()}, err
}

func (s IdentityEntry) String() string {
	str, _ := text.Marshal(0xea796c6e39c699af, s.Struct)
	return str
}

func (s IdentityEntry) Did() (string, error) {
	p, err := s.Struct.Ptr(0)
	return p.Text(), err
}

func (s IdentityEntry) HasDid() bool {
	p, err := s.Struct.Ptr(0)
	return p.IsValid() || err != nil
}

func (s IdentityEntry) DidBytes() ([]byte, error) {
	p, err := s.Struct.Ptr(0)
	return p.TextBytes(), err
}

func (s IdentityEntry) SetDid(v string) error {
	return s.Struct.SetText(0, v)
}

func (s IdentityEntry) PublicKey() ([]byte, error) {
	p, err := s.Struct.Ptr(1)
	return []byte(p.Data()), err
}

func (s IdentityEntry) HasPublicKey() bool {
	p, err := s.Struct.Ptr(1)
	return p.IsValid() || err != nil
}

func (s IdentityEntry) SetPublicKey(v []byte) error {
	return s.Struct.SetData(1, v)
}

func (s IdentityEntry) Status() IdentityStatus {
	return IdentityStatus(s.Struct.Uint16(0))
}

func (s IdentityEntry) SetStatus(v IdentityStatus) {
	s.Struct.SetUint16(0, uint16(v))
}

func (s IdentityEntry) Devices() (DeviceEntry_List, error) {
	p, err := s.Struct.Ptr(2)
	return DeviceEntry_List{List: p.List()}, err
}

func (s IdentityEntry) HasDevices() bool {
	p, err := s.Struct.Ptr(2)
	return p.IsValid() || err != nil
}

func (s IdentityEntry) SetDevices(v DeviceEntry_List) error {
	return s.Struct.SetPtr(2, v.List.ToPtr())
}

// NewDevices sets the devices field to a newly
// allocated DeviceEntry_List, preferring placement in s's segment.
func (s IdentityEntry) NewDevices(n int32) (DeviceEntry_List, error) {
	l, err := NewDeviceEntry_List(s.Struct.Segment(), n)
	if err != nil {
		return DeviceEntry_List{}, err
	}
	err = s.Struct.SetPtr(2, l.List.ToPtr())
	return l, err
}

func (s IdentityEntry) Threshold() uint8 {
	return s.Struct.Uint8(2)
}

func (s IdentityEntry) SetThreshold(v uint8) {
	s.Struct.SetUint8(2, v)
}

func (s IdentityEntry) TotalShares() uint8 {
	return s.Struct.Uint8(3)
}

func (s IdentityEntry) SetTotalShares(v uint8) {
	s.Struct.SetUint8(3, v)
}

func (s IdentityEntry) GuardianDids() (capnp.TextList, error) {
	p, err := s.Struct.Ptr(3)
	return capnp.TextList{List: p.List()}, err
}

func (s IdentityEntry) HasGuardianDids() bool {
	p, err := s.Struct.Ptr(3)
	return p.IsValid() || err != nil
}

func (s IdentityEntry) SetGuardianDids(v capnp.TextList) error {
	return s.Struct.SetPtr(3, v.List.ToPtr())
}

// NewGuardianDids sets the guardianDids field to a newly
// allocated capnp.TextList, preferring placement in s's segment.
func (s IdentityEntry) NewGuardianDids(n int32) (capnp.TextList, error) {
	l, err := capnp.NewTextList(s.Struct.Segment(), n)
	if err != nil {
		return capnp.TextList{}, err
	}
	err = s.Struct.SetPtr(3, l.List.ToPtr())
	return l, err
}

func (s IdentityEntry) RecoveryThreshold() uint8 {
	return s.Struct.Uint8(4)
}

func (s IdentityEntry) SetRecoveryThreshold(v uint8) {
	s.Struct.SetUint8(4, v)
}

// IdentityEntry_List is a list of IdentityEntry.
type IdentityEntry_List struct{ capnp.List }

// NewIdentityEntry creates a new list of IdentityEntry.
func NewIdentityEntry_List(s *capnp.Segment, sz int32) (IdentityEntry_List, error) {
	l, err := capnp.NewCompositeList(s, capnp.ObjectSize{DataSize: 8, PointerCount: 4}, sz)
	return IdentityEntry_List{l}, err
}

func (s IdentityEntry_List) At(i int) IdentityEntry { return IdentityEntry{s.List.Struct(i)} }

func (s IdentityEntry_List) Set(i int, v IdentityEntry) error { return s.List.SetStruct(i, v.Struct) }

func (s IdentityEntry_List) String() string {
	str, _ := text.MarshalList(0xea796c6e39c699af, s.List)
	return str
}

// IdentityEntry_Promise is a wrapper for a IdentityEntry promised by a client call.
type IdentityEntry_Promise struct{ *capnp.Pipeline }

func (p IdentityEntry_Promise) Struct() (IdentityEntry, error) {
	s, err := p.Pipeline.Struct()
	return IdentityEntry{s}, err
}

type DeviceEntry struct{ capnp.Struct }

// DeviceEntry_TypeID is the unique identifier for the type DeviceEntry.
const DeviceEntry_TypeID = 0xddee12d932553eab

func NewDeviceEntry(s *capnp.Segment) (DeviceEntry, error) {
	st, err := capnp.NewStruct(s, capnp.ObjectSize{DataSize: 24, PointerCount: 4})
	return DeviceEntry{st}, err
}

func NewRootDeviceEntry(s *capnp.Segment) (DeviceEntry, error) {
	st, err := capnp.NewRootStruct(s, capnp.ObjectSize{DataSize: 24, PointerCount: 4})
	return DeviceEntry{st}, err
}

func ReadRootDeviceEntry(msg *capnp.Message) (DeviceEntry, error) {
	root, err := msg.RootPtr()
	return DeviceEntry{root.Struct()}, err
}

func (s DeviceEntry) String() string {
	str, _ := text.Marshal(0xddee12d932553eab, s.Struct)
	return str
}

func (s DeviceEntry) DeviceId() (string, error) {
	p, err := s.Struct.Ptr(0)
	return p.Text(), err
}

func (s DeviceEntry) HasDeviceId() bool {
	p, err := s.Struct.Ptr(0)
	return p.IsValid() || err != nil
}

func (s DeviceEntry) DeviceIdBytes() ([]byte, error) {
	p, err := s.Struct.Ptr(0)
	return p.TextBytes(), err
}

func (s DeviceEntry) SetDeviceId(v string) error {
	return s.Struct.SetText(0, v)
}

func (s DeviceEntry) NodeId() (string, error) {
	p, err := s.Struct.Ptr(1)
	return p.Text(), err
}

func (s DeviceEntry) HasNodeId() bool {
	p, err := s.Struct.Ptr(1)
	return p.IsValid() || err != nil
}

func (s DeviceEntry) NodeIdBytes() ([]byte, error) {
	p, err := s.Struct.Ptr(1)
	return p.TextBytes(), err
}

func (s DeviceEntry) SetNodeId(v string) error {
	return s.Struct.SetText(1, v)
}

func (s DeviceEntry) Name() (string, error) {
	p, err := s.Struct.Ptr(2)
	return p.Text(), err
}

func (s DeviceEntry) HasName() bool {
	p, err := s.Struct.Ptr(2)
	return p.IsValid() || err != nil
}

func (s DeviceEntry) NameBytes() ([]byte, error) {
	p, err := s.Struct.Ptr(2)
	return p.TextBytes(), err
}

func (s DeviceEntry) SetName(v string) error {
	return s.Struct.SetText(2, v)
}

func (s DeviceEntry) AddedAt() int64 {
	return int64(s.Struct.Uint64(0))
}

func (s DeviceEntry) SetAddedAt(v int64) {
	s.Struct.SetUint64(0, uint64(v))
}

func (s DeviceEntry) LastSeenAt() int64 {
	return int64(s.Struct.Uint64(8))
}

func (s DeviceEntry) SetLastSeenAt(v int64) {
	s.Struct.SetUint64(8, uint64(v))
}

func (s DeviceEntry) Fingerprint() (DeviceFingerprint, error) {
	p, err := s.Struct.Ptr(3)
	return DeviceFingerprint{Struct: p.Struct()}, err
}

func (s DeviceEntry) HasFingerprint() bool {
	p, err := s.Struct.Ptr(3)
	return p.IsValid() || err != nil
}

func (s DeviceEntry) SetFingerprint(v DeviceFingerprint) error {
	return s.Struct.SetPtr(3, v.Struct.ToPtr())
}

// NewFingerprint sets the fingerprint field to a newly
// allocated DeviceFingerprint struct, preferring placement in s's segment.
func (s DeviceEntry) NewFingerprint() (DeviceFingerprint, error) {
	ss, err := NewDeviceFingerprint(s.Struct.Segment())
	if err != nil {
		return DeviceFingerprint{}, err
	}
	err = s.Struct.SetPtr(3, ss.Struct.ToPtr())
	return ss, err
}

func (s DeviceEntry) Tier() ResourceTier {
	return ResourceTier(s.Struct.Uint16(16))
}

func (s DeviceEntry) SetTier(v ResourceTier) {
	s.Struct.SetUint16(16, uint16(v))
}

// DeviceEntry_List is a list of DeviceEntry.
type DeviceEntry_List struct{ capnp.List }

// NewDeviceEntry creates a new list of DeviceEntry.
func NewDeviceEntry_List(s *capnp.Segment, sz int32) (DeviceEntry_List, error) {
	l, err := capnp.NewCompositeList(s, capnp.ObjectSize{DataSize: 24, PointerCount: 4}, sz)
	return DeviceEntry_List{l}, err
}

func (s DeviceEntry_List) At(i int) DeviceEntry { return DeviceEntry{s.List.Struct(i)} }

func (s DeviceEntry_List) Set(i int, v DeviceEntry) error { return s.List.SetStruct(i, v.Struct) }

func (s DeviceEntry_List) String() string {
	str, _ := text.MarshalList(0xddee12d932553eab, s.List)
	return str
}

// DeviceEntry_Promise is a wrapper for a DeviceEntry promised by a client call.
type DeviceEntry_Promise struct{ *capnp.Pipeline }

func (p DeviceEntry_Promise) Struct() (DeviceEntry, error) {
	s, err := p.Pipeline.Struct()
	return DeviceEntry{s}, err
}

func (p DeviceEntry_Promise) Fingerprint() DeviceFingerprint_Promise {
	return DeviceFingerprint_Promise{Pipeline: p.Pipeline.GetPipeline(3)}
}

type DeviceFingerprint struct{ capnp.Struct }

// DeviceFingerprint_TypeID is the unique identifier for the type DeviceFingerprint.
const DeviceFingerprint_TypeID = 0x8cdd1446aec14303

func NewDeviceFingerprint(s *capnp.Segment) (DeviceFingerprint, error) {
	st, err := capnp.NewStruct(s, capnp.ObjectSize{DataSize: 0, PointerCount: 5})
	return DeviceFingerprint{st}, err
}

func NewRootDeviceFingerprint(s *capnp.Segment) (DeviceFingerprint, error) {
	st, err := capnp.NewRootStruct(s, capnp.ObjectSize{DataSize: 0, PointerCount: 5})
	return DeviceFingerprint{st}, err
}

func ReadRootDeviceFingerprint(msg *capnp.Message) (DeviceFingerprint, error) {
	root, err := msg.RootPtr()
	return DeviceFingerprint{root.Struct()}, err
}

func (s DeviceFingerprint) String() string {
	str, _ := text.Marshal(0x8cdd1446aec14303, s.Struct)
	return str
}

func (s DeviceFingerprint) WebAuthn() ([]byte, error) {
	p, err := s.Struct.Ptr(0)
	return []byte(p.Data()), err
}

func (s DeviceFingerprint) HasWebAuthn() bool {
	p, err := s.Struct.Ptr(0)
	return p.IsValid() || err != nil
}

func (s DeviceFingerprint) SetWebAuthn(v []byte) error {
	return s.Struct.SetData(0, v)
}

func (s DeviceFingerprint) Canvas() ([]byte, error) {
	p, err := s.Struct.Ptr(1)
	return []byte(p.Data()), err
}

func (s DeviceFingerprint) HasCanvas() bool {
	p, err := s.Struct.Ptr(1)
	return p.IsValid() || err != nil
}

func (s DeviceFingerprint) SetCanvas(v []byte) error {
	return s.Struct.SetData(1, v)
}

func (s DeviceFingerprint) Audio() ([]byte, error) {
	p, err := s.Struct.Ptr(2)
	return []byte(p.Data()), err
}

func (s DeviceFingerprint) HasAudio() bool {
	p, err := s.Struct.Ptr(2)
	return p.IsValid() || err != nil
}

func (s DeviceFingerprint) SetAudio(v []byte) error {
	return s.Struct.SetData(2, v)
}

func (s DeviceFingerprint) Fonts() ([]byte, error) {
	p, err := s.Struct.Ptr(3)
	return []byte(p.Data()), err
}

func (s DeviceFingerprint) HasFonts() bool {
	p, err := s.Struct.Ptr(3)
	return p.IsValid() || err != nil
}

func (s DeviceFingerprint) SetFonts(v []byte) error {
	return s.Struct.SetData(3, v)
}

func (s DeviceFingerprint) Hardware() (string, error) {
	p, err := s.Struct.Ptr(4)
	return p.Text(), err
}

func (s DeviceFingerprint) HasHardware() bool {
	p, err := s.Struct.Ptr(4)
	return p.IsValid() || err != nil
}

func (s DeviceFingerprint) HardwareBytes() ([]byte, error) {
	p, err := s.Struct.Ptr(4)
	return p.TextBytes(), err
}

func (s DeviceFingerprint) SetHardware(v string) error {
	return s.Struct.SetText(4, v)
}

// DeviceFingerprint_List is a list of DeviceFingerprint.
type DeviceFingerprint_List struct{ capnp.List }

// NewDeviceFingerprint creates a new list of DeviceFingerprint.
func NewDeviceFingerprint_List(s *capnp.Segment, sz int32) (DeviceFingerprint_List, error) {
	l, err := capnp.NewCompositeList(s, capnp.ObjectSize{DataSize: 0, PointerCount: 5}, sz)
	return DeviceFingerprint_List{l}, err
}

func (s DeviceFingerprint_List) At(i int) DeviceFingerprint {
	return DeviceFingerprint{s.List.Struct(i)}
}

func (s DeviceFingerprint_List) Set(i int, v DeviceFingerprint) error {
	return s.List.SetStruct(i, v.Struct)
}

func (s DeviceFingerprint_List) String() string {
	str, _ := text.MarshalList(0x8cdd1446aec14303, s.List)
	return str
}

// DeviceFingerprint_Promise is a wrapper for a DeviceFingerprint promised by a client call.
type DeviceFingerprint_Promise struct{ *capnp.Pipeline }

func (p DeviceFingerprint_Promise) Struct() (DeviceFingerprint, error) {
	s, err := p.Pipeline.Struct()
	return DeviceFingerprint{s}, err
}

type IdentityStatus uint16

// IdentityStatus_TypeID is the unique identifier for the type IdentityStatus.
const IdentityStatus_TypeID = 0xe32f3229310060a8

// Values of IdentityStatus.
const (
	IdentityStatus_active        IdentityStatus = 0
	IdentityStatus_underRecovery IdentityStatus = 1
	IdentityStatus_revoked       IdentityStatus = 2
	IdentityStatus_systemWallet  IdentityStatus = 3
)

// String returns the enum's constant name.
func (c IdentityStatus) String() string {
	switch c {
	case IdentityStatus_active:
		return "active"
	case IdentityStatus_underRecovery:
		return "underRecovery"
	case IdentityStatus_revoked:
		return "revoked"
	case IdentityStatus_systemWallet:
		return "systemWallet"

	default:
		return ""
	}
}

// IdentityStatusFromString returns the enum value with a name,
// or the zero value if there's no such value.
func IdentityStatusFromString(c string) IdentityStatus {
	switch c {
	case "active":
		return IdentityStatus_active
	case "underRecovery":
		return IdentityStatus_underRecovery
	case "revoked":
		return IdentityStatus_revoked
	case "systemWallet":
		return IdentityStatus_systemWallet

	default:
		return 0
	}
}

type IdentityStatus_List struct{ capnp.List }

func NewIdentityStatus_List(s *capnp.Segment, sz int32) (IdentityStatus_List, error) {
	l, err := capnp.NewUInt16List(s, sz)
	return IdentityStatus_List{l.List}, err
}

func (l IdentityStatus_List) At(i int) IdentityStatus {
	ul := capnp.UInt16List{List: l.List}
	return IdentityStatus(ul.At(i))
}

func (l IdentityStatus_List) Set(i int, v IdentityStatus) {
	ul := capnp.UInt16List{List: l.List}
	ul.Set(i, uint16(v))
}

type ResourceTier uint16

// ResourceTier_TypeID is the unique identifier for the type ResourceTier.
const ResourceTier_TypeID = 0x8ef5cc9007571cdd

// Values of ResourceTier.
const (
	ResourceTier_light     ResourceTier = 0
	ResourceTier_moderate  ResourceTier = 1
	ResourceTier_heavy     ResourceTier = 2
	ResourceTier_dedicated ResourceTier = 3
)

// String returns the enum's constant name.
func (c ResourceTier) String() string {
	switch c {
	case ResourceTier_light:
		return "light"
	case ResourceTier_moderate:
		return "moderate"
	case ResourceTier_heavy:
		return "heavy"
	case ResourceTier_dedicated:
		return "dedicated"

	default:
		return ""
	}
}

// ResourceTierFromString returns the enum value with a name,
// or the zero value if there's no such value.
func ResourceTierFromString(c string) ResourceTier {
	switch c {
	case "light":
		return ResourceTier_light
	case "moderate":
		return ResourceTier_moderate
	case "heavy":
		return ResourceTier_heavy
	case "dedicated":
		return ResourceTier_dedicated

	default:
		return 0
	}
}

type ResourceTier_List struct{ capnp.List }

func NewResourceTier_List(s *capnp.Segment, sz int32) (ResourceTier_List, error) {
	l, err := capnp.NewUInt16List(s, sz)
	return ResourceTier_List{l.List}, err
}

func (l ResourceTier_List) At(i int) ResourceTier {
	ul := capnp.UInt16List{List: l.List}
	return ResourceTier(ul.At(i))
}

func (l ResourceTier_List) Set(i int, v ResourceTier) {
	ul := capnp.UInt16List{List: l.List}
	ul.Set(i, uint16(v))
}

type IdentityAction struct{ capnp.Struct }
type IdentityAction_Which uint16

const (
	IdentityAction_Which_addDevice               IdentityAction_Which = 0
	IdentityAction_Which_removeDevice            IdentityAction_Which = 1
	IdentityAction_Which_initiateRecovery        IdentityAction_Which = 2
	IdentityAction_Which_submitRecoverySignature IdentityAction_Which = 3
	IdentityAction_Which_upgradeToFullIdentity   IdentityAction_Which = 4
)

func (w IdentityAction_Which) String() string {
	const s = "addDeviceremoveDeviceinitiateRecoverysubmitRecoverySignatureupgradeToFullIdentity"
	switch w {
	case IdentityAction_Which_addDevice:
		return s[0:9]
	case IdentityAction_Which_removeDevice:
		return s[9:21]
	case IdentityAction_Which_initiateRecovery:
		return s[21:37]
	case IdentityAction_Which_submitRecoverySignature:
		return s[37:60]
	case IdentityAction_Which_upgradeToFullIdentity:
		return s[60:81]

	}
	return "IdentityAction_Which(" + strconv.FormatUint(uint64(w), 10) + ")"
}

// IdentityAction_TypeID is the unique identifier for the type IdentityAction.
const IdentityAction_TypeID = 0x96a6f00a5602edcf

func NewIdentityAction(s *capnp.Segment) (IdentityAction, error) {
	st, err := capnp.NewStruct(s, capnp.ObjectSize{DataSize: 16, PointerCount: 2})
	return IdentityAction{st}, err
}

func NewRootIdentityAction(s *capnp.Segment) (IdentityAction, error) {
	st, err := capnp.NewRootStruct(s, capnp.ObjectSize{DataSize: 16, PointerCount: 2})
	return IdentityAction{st}, err
}

func ReadRootIdentityAction(msg *capnp.Message) (IdentityAction, error) {
	root, err := msg.RootPtr()
	return IdentityAction{root.Struct()}, err
}

func (s IdentityAction) String() string {
	str, _ := text.Marshal(0x96a6f00a5602edcf, s.Struct)
	return str
}

func (s IdentityAction) Which() IdentityAction_Which {
	return IdentityAction_Which(s.Struct.Uint16(0))
}
func (s IdentityAction) AddDevice() (DeviceEntry, error) {
	if s.Struct.Uint16(0) != 0 {
		panic("Which() != addDevice")
	}
	p, err := s.Struct.Ptr(0)
	return DeviceEntry{Struct: p.Struct()}, err
}

func (s IdentityAction) HasAddDevice() bool {
	if s.Struct.Uint16(0) != 0 {
		return false
	}
	p, err := s.Struct.Ptr(0)
	return p.IsValid() || err != nil
}

func (s IdentityAction) SetAddDevice(v DeviceEntry) error {
	s.Struct.SetUint16(0, 0)
	return s.Struct.SetPtr(0, v.Struct.ToPtr())
}

// NewAddDevice sets the addDevice field to a newly
// allocated DeviceEntry struct, preferring placement in s's segment.
func (s IdentityAction) NewAddDevice() (DeviceEntry, error) {
	s.Struct.SetUint16(0, 0)
	ss, err := NewDeviceEntry(s.Struct.Segment())
	if err != nil {
		return DeviceEntry{}, err
	}
	err = s.Struct.SetPtr(0, ss.Struct.ToPtr())
	return ss, err
}

func (s IdentityAction) RemoveDevice() (string, error) {
	if s.Struct.Uint16(0) != 1 {
		panic("Which() != removeDevice")
	}
	p, err := s.Struct.Ptr(0)
	return p.Text(), err
}

func (s IdentityAction) HasRemoveDevice() bool {
	if s.Struct.Uint16(0) != 1 {
		return false
	}
	p, err := s.Struct.Ptr(0)
	return p.IsValid() || err != nil
}

func (s IdentityAction) RemoveDeviceBytes() ([]byte, error) {
	p, err := s.Struct.Ptr(0)
	return p.TextBytes(), err
}

func (s IdentityAction) SetRemoveDevice(v string) error {
	s.Struct.SetUint16(0, 1)
	return s.Struct.SetText(0, v)
}

func (s IdentityAction) SetInitiateRecovery() {
	s.Struct.SetUint16(0, 2)

}

func (s IdentityAction) SubmitRecoverySignature() ([]byte, error) {
	if s.Struct.Uint16(0) != 3 {
		panic("Which() != submitRecoverySignature")
	}
	p, err := s.Struct.Ptr(0)
	return []byte(p.Data()), err
}

func (s IdentityAction) HasSubmitRecoverySignature() bool {
	if s.Struct.Uint16(0) != 3 {
		return false
	}
	p, err := s.Struct.Ptr(0)
	return p.IsValid() || err != nil
}

func (s IdentityAction) SetSubmitRecoverySignature(v []byte) error {
	s.Struct.SetUint16(0, 3)
	return s.Struct.SetData(0, v)
}

func (s IdentityAction) UpgradeToFullIdentity() (string, error) {
	if s.Struct.Uint16(0) != 4 {
		panic("Which() != upgradeToFullIdentity")
	}
	p, err := s.Struct.Ptr(0)
	return p.Text(), err
}

func (s IdentityAction) HasUpgradeToFullIdentity() bool {
	if s.Struct.Uint16(0) != 4 {
		return false
	}
	p, err := s.Struct.Ptr(0)
	return p.IsValid() || err != nil
}

func (s IdentityAction) UpgradeToFullIdentityBytes() ([]byte, error) {
	p, err := s.Struct.Ptr(0)
	return p.TextBytes(), err
}

func (s IdentityAction) SetUpgradeToFullIdentity(v string) error {
	s.Struct.SetUint16(0, 4)
	return s.Struct.SetText(0, v)
}

func (s IdentityAction) Signature() ([]byte, error) {
	p, err := s.Struct.Ptr(1)
	return []byte(p.Data()), err
}

func (s IdentityAction) HasSignature() bool {
	p, err := s.Struct.Ptr(1)
	return p.IsValid() || err != nil
}

func (s IdentityAction) SetSignature(v []byte) error {
	return s.Struct.SetData(1, v)
}

func (s IdentityAction) Timestamp() int64 {
	return int64(s.Struct.Uint64(8))
}

func (s IdentityAction) SetTimestamp(v int64) {
	s.Struct.SetUint64(8, uint64(v))
}

// IdentityAction_List is a list of IdentityAction.
type IdentityAction_List struct{ capnp.List }

// NewIdentityAction creates a new list of IdentityAction.
func NewIdentityAction_List(s *capnp.Segment, sz int32) (IdentityAction_List, error) {
	l, err := capnp.NewCompositeList(s, capnp.ObjectSize{DataSize: 16, PointerCount: 2}, sz)
	return IdentityAction_List{l}, err
}

func (s IdentityAction_List) At(i int) IdentityAction { return IdentityAction{s.List.Struct(i)} }

func (s IdentityAction_List) Set(i int, v IdentityAction) error { return s.List.SetStruct(i, v.Struct) }

func (s IdentityAction_List) String() string {
	str, _ := text.MarshalList(0x96a6f00a5602edcf, s.List)
	return str
}

// IdentityAction_Promise is a wrapper for a IdentityAction promised by a client call.
type IdentityAction_Promise struct{ *capnp.Pipeline }

func (p IdentityAction_Promise) Struct() (IdentityAction, error) {
	s, err := p.Pipeline.Struct()
	return IdentityAction{s}, err
}

func (p IdentityAction_Promise) AddDevice() DeviceEntry_Promise {
	return DeviceEntry_Promise{Pipeline: p.Pipeline.GetPipeline(0)}
}

const schema_f58a7b3c2e1d0942 = "x\xda\x94\x95_\xa8TU\x14\xc6\xd7\xb7\xf7\x99\x19\x0b" +
	"\xc7\xb9\xa7\x99\xde\xeeen\xd9\x8b\x92\xda\xbd\x97\x1e\x92" +
	"\xe8\xa6\xa90\xf6\xe2\x9e\xb1\xa4@h\xdf\xd9\xdb\x99c" +
	"3\xe7L\xe7\xec\x19\x99\xfe`D\x82\x8a\x96I\x04B" +
	">\xd4CDAA$\xf4\x90\xa0\x91e \x94a\xa0" +
	"\xe0\x05\xa3\x1e*2\x0c\x14\x02\xb5\x13{\xce\xbdg\x06" +
	"_\xd2\xb7\xd9\xdf\xec\xb3\xd6:\xeb\xb7\xbeu\x1e\xda\xc5" +
	"\x1egS\x99\x80\x11\x89\xf1L6\xe6O\x9c\xfcdS" +
	"i\xfe\x00\xb9\xcb\x11\xaf\xbfkb\xf5\xa3/\xed\xbfF" +
	"\x99L\x8ehf\x02\x1f\xa1\xf80\xec\xcf)\x94A\x88" +
	"\xe7\xc7\xb7\xe5\x0e\x9d\xb9\xf6\x06\xb9\xcb\xd9\xf06a\xa6" +
	"\xc2^Cq;\xcb\x11\x15\x9fa\x0dB\xfc\xfde\xf6" +
	"\xf4\xddW>x\x87\xc4r\x8c\\\xdd\xc8r\x19\xa2\x99" +
	"=\xec0\x8aG\xed\xf5\x99#\xecM\x1b\xb9\x9cg\x93" +
	"\x97\xe7\xb6\xffxK\x1d\x83\xe4\x15\xe7}\x14\xa5c\x83" +
	"owf\x09\xf1\xc7\x8f=5}\xe1\x9e\xbf\xe6mp" +
	">r\xdb^\x999\xe8\xbc\x88\xe2{\x83\x9fG\x1d\x1b" +
	"\xfb\xfa\x87\xcfM\xad\x98^\xf3\xcb\xad5Oe\x0f\xa3" +
	"X\xc9\xda\xb0\x1b\xb3\xb6\xe6O\x8f|\xf3\x88\xdf\xea\xff" +
	"a\xc3\xe2\xd6\xb0/d\xf7\xa3\xb8\xcf\xde\x9e\xd9\x93\xfd" +
	"\xd6\x96\xec)\xed\x1b\xcf\xf43kzSk\x16\x0f\xab" +
	"\x1a\xc1*\xa3\xdb\x9d\xd5u\xd9\xf1;k7\xe8\x9eW" +
	"\xd7\x9b<\xbf\xa1\xc3N!\xf4|\xb3\x05\x10%\xee\x10" +
	"9 r_\xd9L$^\xe6\x10{\x19\\\xa0\x04+" +
	"\xeeYK$^\xe5\x10\x07\x18\\\xc6J`D\xee\xbe" +
	"i\"\xf1:\x878\xc4\xe0r^\x02'r\x0fZq" +
	"/\x87x\x9b\xc1u\x9c\x12\x1c\"\xf7-\x1b\xf3\x10\x87" +
	"x\x97!\xde\xa5\xe7\xd6uM\xd3'\"\xe4\x89!O" +
	"\x98\xadK\xbf'\xa3\xc5cYv\x95\x17\xa4\xa7\x1d\x81" +
	"o\xd2\xff\xe2\xa6\x0c\xd5.\x19j\xfb\xf8RbXz" +
	"\x9b\xef]\xd5Q\xd0\x0d\xebz\xab\xa7C\xb2\xaf<6" +
	"x\x89\x15\xd3D\x80{\xdff\"0w\xc2\x9e\xb8{" +
	"o\x95\xa8\xdc\xf2\x1aM\x13\xb7\x03\xa5Cil\xbar" +
	"S\xcb^?VZyu\xab@\xddV\xe2\xca\x82\xbc" +
	"\xaen\xbc\x00\xbeM=\xce\x9d\xa5q<h\xf7\xb1*" +
	"\x91\xf8\x9cC\x9c`\xc8\xe3\xdf8\xe9\xf7\xf1\x9dD\xe2" +
	"K\x0eq\x9a!\xcfn\xc6I\xc3O\xed'\x12\xa79" +
	"\xc49\x86<\xbf\x11'\x1d?\xfb\x15\x918\xc7!." +
	"1\xe4\x9d\xebq\xd2\xf2\xf9\xcf\x88\xc4%\x0e\xf1'\x83" +
	"\x9bA\x09\x19\"\xf7w\x9b\xec7\x0eq\x95\xc1\xcd\xa2" +
	"\x84,\x91\xfb\xb7\x15\xafp\x88\x1b\x0c\xb1Tj0 " +
	"\x04\x8d\xb1\xe1T\x130F\x88C\xdd\x0ezz\x83\xa6" +
	"\x82\x9d\xa1a\xfb}\xcfx\xd2hTu=\xe8\xe9\xb0" +
	"O\xb98\xea\xce\xb5=S\xd5,Qj^\xc3\x97\xa6" +
	"\x1b\xea\x94y\xdc\xed4B\xa9\xf4V\x04\x9b\xba\xadV" +
	"E\xe9\xf2\xa0Mi\xd4h\xe1\x11[\xca\xe23\xc6k" +
	"\xeb\xc8\xc86\xa1\x83\x0c1dn\x13\xfe\"\x83\xaan" +
	"xQ\xce\x84}K\xc1Ig>\xbf\x92H,\xe1\x10" +
	"\x0f0\x14\x94\xa7\",#l\xe1\xc0\xd8\xd0\x81\x04+" +
	"\xa6\xd9\x9c\xff\xb3\xd8\xac\xde\xe8/$\x1aO\x13\x1d\xdb" +
	"<\xa4\x9d\x9a\xeb\xb85\xd7\x17\x1c\xe2\xeb\x11s\x9d\\" +
	"9\x9c\x00,x\xeb\xd4z\"q\x82C\x9c\xb1\xdeB" +
	"\x02\xfa\xbbg\x87C\xe1fx\x02\xfa\xec\x1c\x91\xf8\x81" +
	"C\\\xb4\xa0\x97$\xa0/\xac\x1c\x0eJ\xac\x06k\xa0" +
	"\xa2Fl4\xeb\x07JW\xd4\xe2\xb1\xe0\xcbv\xcax" +
	"\xb7TJ\xabu&\xedzKF\xa6\xa6\xb5O|D" +
	"\xdc\x91l\x95\x90r\x9eo06\\\xe5\xc9\xfc\x14\x8c" +
	"\xa7C\x14\x86;\x9b\x80\xc2\x1d\x12\xac\x19i\xba\x88F" +
	"\x0c\xbc61p\x98\x18x}b\xe0\x9dD\xb3\xb2n" +
	"\xbc\x9e\x8e\xbb\xbe\xd2aU\xd7\xa9<\x98\xc4\xdd\xa1\xee" +
	"\x05\xcfk\x15G\xfd\xc8\xe8\xf66I\x85VK\x9b;" +
	"*b@\x96\x06[d2e{\xf6~\"q\x86C" +
	"\x9c\x1fa\xfbSu\xd8s,\xa0\x9d\xb7\xbc\xcfs\x88" +
	"_\xed\xded\x09\xdb\x9f-\xdb\x8b\x1c\xe2\x1f\xcb\x96%" +
	"l\xaf\xd9\xa7\xafrT1\xc2\xf6\xa6e{\x83\xa3\xb6" +
	"\xc4\xaaY>\x80[\xcc`'Q\xcd\x01Gm\xd2\xea" +
	"9\xa7d\xbfT\xc5\x09\x1c&\xaaMZ\xfdA0\xe4" +
	"\x94\x97\x02\x8e;\xdd\xb9\x96W\x7fR\x13\xfa\xe9&\x8e" +
	"l\x7f#\x14\x16?Q\x09\xa2\xdd\xc9\xb8\x8c\xf8bt" +
	"5X_\x98f\xa8\xa3f\xd0\"(d\x89!k\xb5" +
	"\xc0\xc8V\xad))\x17\xea(U\x1b]\x19*O\xfa" +
	"T\xd80\xe24[\xd3\xb2\xc1\x8aI\x16\x06\xb6.\x04" +
	"\x1c\xc6\xfb/\x00\x00\xff\xffk\xaf\x0c\x00"

func init() {
	schemas.Register(schema_f58a7b3c2e1d0942,
		0x8cdd1446aec14303,
		0x8ef5cc9007571cdd,
		0x96a6f00a5602edcf,
		0xd25d62ed20020d1f,
		0xddee12d932553eab,
		0xe32f3229310060a8,
		0xea796c6e39c699af)
}
